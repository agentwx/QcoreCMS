// Generated by CoffeeScript 1.6.3
(function() {
  define(['jQuery', 'admin/app', 'bootstrap'], function($, app) {
    app.directive('toolTip', [
      function() {
        return function(scope, element, attr) {
          var el, placement, tip, trigger, _ref, _ref1;
          tip = attr.toolTip;
          placement = (_ref = attr.placement) != null ? _ref : 'top';
          trigger = (_ref1 = attr.trigger) != null ? _ref1 : 'hover';
          el = $(element);
          return el.tooltip({
            placement: placement,
            trigger: trigger,
            title: tip
          });
        };
      }
    ]);
    app.directive('loadForm', [
      '$http', '$compile', function($http, $compile) {
        return function(scope, element, attr) {
          var el, formName;
          formName = attr.loadForm;
          el = $(element);
          el.removeAttr('load-form');
          return $http.get("/admin/form?form=" + formName).success(function(formHtml) {
            var callbackName;
            el.html(formHtml);
            $compile(el)(scope);
            callbackName = 'on_load_' + formName.replace(/\./g, '_');
            console.log(callbackName);
            if ($.isFunction(scope[callbackName])) {
              return scope[callbackName](el);
            }
          });
        };
      }
    ]);
    return app;
  });

}).call(this);
