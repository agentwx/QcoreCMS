// Generated by CoffeeScript 1.6.3
(function() {
  define(['admin/provider', 'admin/ctrls/category'], function(app, categoryCtrl) {
    var tplPath;
    tplPath = '/static/js/admin/tpls';
    app.config([
      '$routeProvider', '$httpProvider', 'MsgProvider', function($routeProvider, $httpProvider, MsgProvider) {
        $httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
        $httpProvider.defaults.transformRequest = function(data) {
          return $.param(data != null ? data : {});
        };
        $httpProvider.defaults.transformResponse = function(data, headersGetter) {
          var json;
          if (headersGetter()['content-type'].indexOf('json') !== -1) {
            json = angular.fromJson(data);
            if (json.success) {
              return json.data;
            } else {
              MsgProvider.$get().error(json.msg);
              return null;
            }
          } else {
            return data;
          }
        };
        return $routeProvider.when('/category', {
          controller: "categoryCtrl",
          templateUrl: "" + tplPath + "/category.html"
        });
      }
    ]);
    return app;
  });

}).call(this);
