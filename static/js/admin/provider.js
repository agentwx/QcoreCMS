// Generated by CoffeeScript 1.6.3
(function() {
  define(['jQuery', 'admin/app', 'bootstrap'], function($, app) {
    var _msgEl;
    _msgEl = $("<div></div>");
    _msgEl.css({
      position: 'absolute',
      width: 200,
      top: 2,
      left: '50%',
      marginLeft: -200,
      zIndex: 1500
    });
    app.provider('Msg', function() {
      var Msg;
      Msg = {};
      Msg.pushMsg = function(msg, type) {
        var el, time;
        if (type == null) {
          type = 'warning';
        }
        el = $("            <div class=\"alert alert-" + type + "\">                <button type=\"button\" class=\"close\">&times;</button>                " + msg + "            </div>");
        time = setTimeout(function() {
          return el.remove();
        }, 3000);
        el.on('click', 'button.close', function() {
          if (time) {
            clearTimeout(time);
          }
          el.remove();
          return false;
        });
        el.appendTo(_msgEl);
      };
      Msg.alert = function(msg) {
        return Msg.pushMsg(msg);
      };
      Msg.success = function(msg) {
        return Msg.pushMsg(msg, 'success');
      };
      Msg.error = function(msg) {
        return Msg.pushMsg(msg, 'danger');
      };
      return this.$get = function() {
        return Msg;
      };
    });
    $(function() {
      return _msgEl.appendTo('body');
    });
    return app;
  });

}).call(this);
